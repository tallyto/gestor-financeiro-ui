<form [formGroup]=despesaFixaForm (ngSubmit)="salvarDespesaFixa()">
  <mat-form-field appearance="fill">
    <mat-label>Nome</mat-label>
    <input matInput formControlName="nome" placeholder="Ex: Gás, Internet">
  </mat-form-field>

  <mat-form-field>
    <mat-label>Categoria</mat-label>
    <mat-select formControlName="categoriaId">
      <mat-option [value]="categoria.id" *ngFor="let categoria of categorias" >{{categoria.nome}}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Data de vencimento</mat-label>
    <input matInput formControlName="vencimento" [matDatepicker]="picker">
    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Valor</mat-label>
    <input matInput formControlName="valor" placeholder="Ex: 125.42">
  </mat-form-field>

  <mat-checkbox formControlName="pago">Pago</mat-checkbox>

  <button mat-raised-button color="primary" type="submit">Salvar</button>
</form>



<!-- Tabela Despesas Fixas -->

  <h3>Contas Fixas</h3>
  <table mat-table [dataSource]="contasFixas">

    <!-- Nome Column -->
    <ng-container matColumnDef="nome">
      <th mat-header-cell *matHeaderCellDef> Nome </th>
      <td mat-cell *matCellDef="let contaFixa"> {{ contaFixa.nome }} </td>
    </ng-container>

    <!-- Categoria Column -->
    <ng-container matColumnDef="categoria">
      <th mat-header-cell *matHeaderCellDef> Categoria </th>
      <td mat-cell *matCellDef="let contaFixa">
        {{ contaFixa.categoria ? contaFixa.categoria.nome : 'N/A' }}
      </td>
    </ng-container>

    <!-- Vencimento Column -->
    <ng-container matColumnDef="vencimento">
      <th mat-header-cell *matHeaderCellDef> Vencimento </th>
      <td mat-cell *matCellDef="let contaFixa"> {{ contaFixa.vencimento | date}} </td>
    </ng-container>

    <!-- Valor Column -->
    <ng-container matColumnDef="valor">
      <th mat-header-cell *matHeaderCellDef> Valor </th>
      <td mat-cell *matCellDef="let contaFixa">
        {{ contaFixa.valor | currency:'BRL':'symbol':'1.2-2' }}
      </td>
    </ng-container>

    <!-- Pago Column -->
    <ng-container matColumnDef="pago">
      <th mat-header-cell *matHeaderCellDef> Pago </th>
      <td mat-cell *matCellDef="let contaFixa"> {{ contaFixa.pago ? 'Sim' : 'Não' }} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumnsContasFixas"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsContasFixas;"></tr>
  </table>
